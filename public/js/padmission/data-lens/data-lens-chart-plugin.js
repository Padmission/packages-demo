window.filamentChartJsPlugins??(window.filamentChartJsPlugins=[]);var l={id:"dataLensAxisFormatting",beforeInit(t){this.applyFormatting(t)},applyFormatting(t){var e,o,r;let i=t.options?.scales?.y?.ticks?.callback;if(!i||typeof i!="object"||!i.type)return;let n=this.createFormatter(i);n&&(t.options.scales.y.ticks.callback=n,(e=t.options).plugins??(e.plugins={}),(o=t.options.plugins).tooltip??(o.tooltip={}),(r=t.options.plugins.tooltip).callbacks??(r.callbacks={}),t.options.plugins.tooltip.callbacks.label=a=>{let s=a.dataset.label||"",u=a.parsed.y??a.raw,m=n(u);return s?`${s}: ${m}`:m})},createFormatter(t){let{type:i,currency:n,decimals:e}=t;switch(i){case"number":return o=>this.formatNumber(o,e??0);case"money_full":return o=>this.formatMoneyFull(o,n??"$",e??2);case"money_thousands":return o=>this.formatMoneyThousands(o,n??"$");case"money_millions":return o=>this.formatMoneyMillions(o,n??"$",e??1);case"percentage":return o=>this.formatPercentage(o,e??1);default:return null}},formatNumber(t,i){return t.toLocaleString(void 0,{minimumFractionDigits:i,maximumFractionDigits:i})},formatMoneyFull(t,i,n){return i+t.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n})},formatMoneyThousands(t,i){return Math.abs(t)>=1e3?i+(t/1e3).toLocaleString(void 0,{maximumFractionDigits:0})+"k":i+t.toLocaleString(void 0,{maximumFractionDigits:0})},formatMoneyMillions(t,i,n){return Math.abs(t)>=1e6?i+(t/1e6).toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n})+"M":Math.abs(t)>=1e3?i+(t/1e3).toLocaleString(void 0,{maximumFractionDigits:0})+"k":i+t.toLocaleString(void 0,{maximumFractionDigits:0})},formatPercentage(t,i){return t.toLocaleString(void 0,{minimumFractionDigits:i,maximumFractionDigits:i})+"%"}};window.filamentChartJsPlugins.push(l);
